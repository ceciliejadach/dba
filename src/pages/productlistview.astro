---
import MainLayout from "../layouts/MainLayout.astro";
import Card from "../components/Card.astro";
import Gallery from "../components/Gallery.astro";
import BurgerAd from "../components/BurgerAd.astro";
import CategorySlider from "../components/CategorySlider.astro";
import ContactService from "../components/ContactService.astro";
import BreadCrumbPath from "../components/BreadCrumbPath.astro";

const data = await fetch("https://euedhdrakswqsquhtjkx.supabase.co/rest/v1/products", {
  method: "GET",
  headers: {
    apikey: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImV1ZWRoZHJha3N3cXNxdWh0amt4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTUyNTEyNDYsImV4cCI6MjAzMDgyNzI0Nn0.mXDwiwon4LDuspPMmUhUACpS8eCG3AZ7Ttf8Dd2wwu0",
  },
}).then((res) => res.json());
---

<MainLayout titel="Productlistview">
  <CategorySlider />
  <div class="breadcrumb-container">
    <BreadCrumbPath url="/" page="Forside" />
    <p>Til boligen</p>
  </div>

  <h1>Til boligen</h1>
  <section class="cards">
    {
      data.map((card) => {
        return <Card data={card} />;
      })
    }
  </section>
  <Gallery />
  <BurgerAd />
</MainLayout>
<ContactService />

<style>
  .breadcrumb-container {
    display: flex;
  }

  .breadcrumb-container p {
    color: var(--dark-grey-100);
    margin-left: 10px;
  }
</style>
